<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				transform-style: preserve-3d;
				perspective: 1000px;
			}
			#card{
				width: 300px;
				height: 200px;
				background-color: #009999;
				border-radius: 5px;
				margin: 200px auto;
				box-shadow: 10px 10px 50px #000000;
				transition: 1s;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div id="card"></div>
		</div>
		
		<script type="text/javascript">
			var box = document.getElementById('box');
			var card = document.getElementById('card');
			var onOff = false;
			card.onmouseenter = function(){
				card.style.transform = 'translate3d(0px,0px,100px)';
				onOff = true;
			}
			card.onmouseleave = function(){
				card.style.cssText = '';
				onOff = false;
			}
			document.onmousemove = function(ev){
				if(onOff){
					var cardPos = card.getBoundingClientRect();
					var l = ev.clientX - cardPos.left;
					var t = ev.clientY - cardPos.top;
					if( l<card.offsetWidth/2 && t<card.offsetHeight/2 ){
						card.style.transform += ' rotateZ(1deg)'
					}
				}
			}
		</script>
	</body>
</html>
